---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import BlogPost from "../components/BlogPost.astro";
//const allPosts: any[] = Object.values(import.meta.glob('./posts/*.md', {eager: true}))
// cuando a√±adimos las colecciones la linea de arriba ya no tiene sentido y la sustituimos por la liena de abajo
const allPosts = await getCollection("blog")
console.log(allPosts[0], "tODOS")
const pageTitle = "All Blogs";
---

<BaseLayout pageTitle={pageTitle}>
    <ul>
    {allPosts.map((post: any) =>  <BlogPost url={`/posts/${post.id}/`} title={post.data.title} />)}
    </ul>
</BaseLayout>
